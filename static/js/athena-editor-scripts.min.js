window.tinymce.PluginManager.add("buttonpreview",function(n){function t(n){return n.replace(/\[button([^\]]*)\](.+)\[\/button\]/g,function(n){return t="button",n=n,n=window.encodeURIComponent(n),'<a class="'+t+'" href="#" data-buttonpreview="'+n+'" />';var t})}function e(n){return n.replace(/\<a(.*)\<\/a\>/g,function(n,t){var e;e=t,t="data-buttonpreview",(t=new RegExp(t+'="([^"]+)"').exec(e))&&window.decodeURIComponent(t[1])})}n.on("BeforeSetContent",function(n){n.content=t(n.content)}),n.on("PostProcess",function(n){console.log(n),n.get&&(n.content=e(n.content))})});